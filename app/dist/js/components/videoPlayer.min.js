"use strict";var video=document.querySelector("video"),play=document.querySelector(".fa-play"),stop=document.querySelector(".fa-stop"),playerIcon=document.querySelector(".video__player-icon"),forward=document.querySelector(".fa-forward"),backward=document.querySelector(".fa-backward"),volume=document.querySelector(".volume"),progress=document.querySelector(".progress"),volumeUpDown=document.querySelector(".fa-volume-up"),time=document.querySelector(".video__time"),fullScreen=document.querySelector(".fullScreen");playerIcon.addEventListener("click",function(){video__time(),player(),playerIcon.style.display="none"}),video.addEventListener("click",function(){player(),playerIcon.style.display="none"}),play.addEventListener("click",function(){player(),playerIcon.style.display="none"}),stop.addEventListener("click",function(){stopVideo()}),volume.addEventListener("input",function(){var a=volume.value;video.volume=a/100,save=volume.value}),video.addEventListener("timeupdate",function(){progressUpadate(),playerIcon.style.display="none"}),backward.addEventListener("click",function(){speedDownVideo(),playerIcon.style.display="none"}),forward.addEventListener("click",function(){speedUpVideo()}),progress.addEventListener("click",function(){videoRewind()}),volumeUpDown.addEventListener("click",function(){volumeUp()}),fullScreen.addEventListener("click",function(){video.requestFullscreen()});var speed=1;function progressUpadate(){var a=video.duration,b=video.currentTime;progress.value=100*b/a}function player(){play.classList.contains("fa-play")?(play.classList.add("fa-pause"),play.classList.remove("fa-play"),playVideo()):(play.classList.add("fa-play"),play.classList.remove("fa-pause"),pauseVideo())}var save=volume.value,saveVol=video.volume;function volumeUp(){var a=volume.value;video.volume=a/100,volumeUpDown.classList.contains("fa-volume-up")?(volumeUpDown.classList.add("fa-volume-mute"),volumeUpDown.classList.remove("fa-volume-up"),video.volume=0,volume.value=0):(volumeUpDown.classList.add("fa-volume-up"),volumeUpDown.classList.remove("fa-volume-mute"),video.volume=saveVol,volume.value=save)}function playVideo(){video.play()}function pauseVideo(){video.pause()}function stopVideo(){video.pause(),video.currentTime=0,play.classList.add("fa-play"),play.classList.remove("fa-pause"),playerIcon.style.display="flex"}function speedDownVideo(){video.play(),video.playbackRate=speed,speed-=.5,.5>=speed&&(speed=.5),play.classList.remove("fa-play"),play.classList.add("fa-pause")}function speedUpVideo(){video.play(),video.playbackRate=speed,speed+=.5,3<=speed&&(speed=3),play.classList.remove("fa-play"),play.classList.add("fa-pause")}function videoRewind(){var a=progress.offsetWidth,b=event.offsetX;progress.value=100*b/a,video.currentTime=video.duration*(b/a),console.log(a)}video.addEventListener("loadedmetadata",function(){video__time()}),video.addEventListener("timeupdate",function(){video__time()});function fixed(a){return 10>a?"0".concat(a):"".concat(a)}function video__time(){var a=+video.duration.toFixed(),b=+video.currentTime.toFixed(),c="".concat(fixed(Math.floor(b/60)),":").concat(fixed(Math.floor(b%60))),d="".concat(Math.floor(a/60),":").concat(Math.floor(a%60));time.innerHTML="".concat(c," / ").concat(d)}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvdmlkZW9QbGF5ZXIuanMiXSwibmFtZXMiOlsidmlkZW8iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJwbGF5Iiwic3RvcCIsInBsYXllckljb24iLCJmb3J3YXJkIiwiYmFja3dhcmQiLCJ2b2x1bWUiLCJwcm9ncmVzcyIsInZvbHVtZVVwRG93biIsInRpbWUiLCJmdWxsU2NyZWVuIiwiYWRkRXZlbnRMaXN0ZW5lciIsInZpZGVvX190aW1lIiwicGxheWVyIiwic3R5bGUiLCJkaXNwbGF5Iiwic3RvcFZpZGVvIiwidm9sIiwidmFsdWUiLCJzYXZlIiwicHJvZ3Jlc3NVcGFkYXRlIiwic3BlZWREb3duVmlkZW8iLCJzcGVlZFVwVmlkZW8iLCJ2aWRlb1Jld2luZCIsInZvbHVtZVVwIiwicmVxdWVzdEZ1bGxzY3JlZW4iLCJzcGVlZCIsImQiLCJkdXJhdGlvbiIsImMiLCJjdXJyZW50VGltZSIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiYWRkIiwicmVtb3ZlIiwicGxheVZpZGVvIiwicGF1c2VWaWRlbyIsInNhdmVWb2wiLCJwYXVzZSIsInBsYXliYWNrUmF0ZSIsIndpZHRoIiwib2Zmc2V0V2lkdGgiLCJvZmZzZXQiLCJldmVudCIsIm9mZnNldFgiLCJjb25zb2xlIiwibG9nIiwiZml4ZWQiLCJudW1iZXIiLCJ0b0ZpeGVkIiwiY3VycmVudCIsInRpbWVyIiwiTWF0aCIsImZsb29yIiwiZHVyIiwiaW5uZXJIVE1MIl0sIm1hcHBpbmdzIjoiZ0JBQUlBLENBQUFBLEtBQUssQ0FBR0MsUUFBUSxDQUFDQyxhQUFULENBQXVCLE9BQXZCLEMsQ0FDUkMsSUFBSSxDQUFHRixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsVUFBdkIsQyxDQUNQRSxJQUFJLENBQUdILFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixVQUF2QixDLENBQ1BHLFVBQVUsQ0FBR0osUUFBUSxDQUFDQyxhQUFULENBQXVCLHFCQUF2QixDLENBQ2JJLE9BQU8sQ0FBR0wsUUFBUSxD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bWVudC5xdWVyeVNlbGVjdG9yKFwidmlkZW9cIik7XHJcbmxldCBwbGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mYS1wbGF5XCIpO1xyXG5sZXQgc3RvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mYS1zdG9wJylcclxubGV0IHBsYXllckljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudmlkZW9fX3BsYXllci1pY29uJylcclxubGV0IGZvcndhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmEtZm9yd2FyZCcpXHJcbmxldCBiYWNrd2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mYS1iYWNrd2FyZCcpXHJcbmxldCB2b2x1bWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudm9sdW1lJylcclxubGV0IHByb2dyZXNzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2dyZXNzJylcclxubGV0IHZvbHVtZVVwRG93biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mYS12b2x1bWUtdXAnKVxyXG5sZXQgdGltZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy52aWRlb19fdGltZScpXHJcbmxldCBmdWxsU2NyZWVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZ1bGxTY3JlZW4nKVxyXG5cclxucGxheWVySWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XHJcbiAgICB2aWRlb19fdGltZSgpXHJcbiAgICBwbGF5ZXIoKVxyXG4gICAgcGxheWVySWNvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcbn0pXHJcbnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgcGxheWVyKClcclxuICAgIHBsYXllckljb24uc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG59KVxyXG5wbGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgcGxheWVyKClcclxuICAgIHBsYXllckljb24uc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG59KVxyXG5zdG9wLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcclxuICAgIHN0b3BWaWRlbygpXHJcbn0pXHJcbnZvbHVtZS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpPT57XHJcbiAgICBsZXQgdm9sID0gdm9sdW1lLnZhbHVlO1xyXG4gICAgdmlkZW8udm9sdW1lID0gdm9sIC8gMTAwXHJcbiAgICBzYXZlID0gdm9sdW1lLnZhbHVlXHJcbn0pXHJcbnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ3RpbWV1cGRhdGUnLCAoKT0+e1xyXG4gICAgcHJvZ3Jlc3NVcGFkYXRlKClcclxuICBcclxuICAgIHBsYXllckljb24uc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG4gICAgXHJcbn0pXHJcbmJhY2t3YXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoKT0+e1xyXG4gICAgc3BlZWREb3duVmlkZW8oKVxyXG4gICAgcGxheWVySWNvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcbiAgIFxyXG59KVxyXG5mb3J3YXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoKT0+e1xyXG4gICAgc3BlZWRVcFZpZGVvKClcclxufSlcclxuXHJcbnByb2dyZXNzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoKT0+e1xyXG4gICAgdmlkZW9SZXdpbmQoKVxyXG59KVxyXG52b2x1bWVVcERvd24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xyXG4gICAgXHJcbiAgICB2b2x1bWVVcCgpIFxyXG59KVxyXG5mdWxsU2NyZWVuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcclxuICAgIHZpZGVvLnJlcXVlc3RGdWxsc2NyZWVuKClcclxufSlcclxubGV0IHNwZWVkID0gMTtcclxuZnVuY3Rpb24gcHJvZ3Jlc3NVcGFkYXRlKCkge1xyXG4gICAgbGV0IGQgPSB2aWRlby5kdXJhdGlvblxyXG4gICAgbGV0IGM9IHZpZGVvLmN1cnJlbnRUaW1lXHJcbiAgICBwcm9ncmVzcy52YWx1ZSA9IDEwMCAqIGMgLyBkXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBsYXllcigpe1xyXG4gICAgaWYoIHBsYXkuY2xhc3NMaXN0LmNvbnRhaW5zKCdmYS1wbGF5JykgKXtcclxuICAgICAgICBwbGF5LmNsYXNzTGlzdC5hZGQoJ2ZhLXBhdXNlJyk7XHJcbiAgICAgICAgcGxheS5jbGFzc0xpc3QucmVtb3ZlKCdmYS1wbGF5Jyk7XHJcbiAgICAgICAgcGxheVZpZGVvKCk7ICAgIFxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcGxheS5jbGFzc0xpc3QuYWRkKCdmYS1wbGF5Jyk7XHJcbiAgICAgICAgcGxheS5jbGFzc0xpc3QucmVtb3ZlKCdmYS1wYXVzZScpO1xyXG4gICAgICAgIHBhdXNlVmlkZW8oKTtcclxuICAgIH0gIFxyXG59XHJcbmxldCBzYXZlID0gdm9sdW1lLnZhbHVlXHJcbmxldCBzYXZlVm9sID0gdmlkZW8udm9sdW1lXHJcblxyXG5mdW5jdGlvbiB2b2x1bWVVcCgpe1xyXG4gICAgbGV0IHZvbCA9IHZvbHVtZS52YWx1ZTtcclxuICAgICB2aWRlby52b2x1bWUgPSB2b2wgLzEwMFxyXG4gICAgaWYoIHZvbHVtZVVwRG93bi5jbGFzc0xpc3QuY29udGFpbnMoJ2ZhLXZvbHVtZS11cCcpKSB7XHJcbiAgICAgICAgdm9sdW1lVXBEb3duLmNsYXNzTGlzdC5hZGQoJ2ZhLXZvbHVtZS1tdXRlJyk7XHJcbiAgICAgICAgdm9sdW1lVXBEb3duLmNsYXNzTGlzdC5yZW1vdmUoJ2ZhLXZvbHVtZS11cCcpO1xyXG4gICAgICAgIHZpZGVvLnZvbHVtZSA9IDBcclxuICAgICAgICB2b2x1bWUudmFsdWUgPSAwXHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2b2x1bWVVcERvd24uY2xhc3NMaXN0LmFkZCgnZmEtdm9sdW1lLXVwJyk7XHJcbiAgICAgICAgdm9sdW1lVXBEb3duLmNsYXNzTGlzdC5yZW1vdmUoJ2ZhLXZvbHVtZS1tdXRlJyk7XHJcbiAgICAgICAgdmlkZW8udm9sdW1lID0gc2F2ZVZvbFxyXG4gICAgICAgIHZvbHVtZS52YWx1ZSA9IHNhdmVcclxuICAgIH0gXHJcbn1cclxuZnVuY3Rpb24gcGxheVZpZGVvKCkge1xyXG4gICAgdmlkZW8ucGxheSgpO1xyXG59XHJcbmZ1bmN0aW9uIHBhdXNlVmlkZW8oKSB7XHJcbiAgICB2aWRlby5wYXVzZSgpXHJcbn1cclxuZnVuY3Rpb24gc3RvcFZpZGVvKCkge1xyXG4gICAgdmlkZW8ucGF1c2UoKVxyXG4gICAgdmlkZW8uY3VycmVudFRpbWUgPSAwXHJcbiAgICBwbGF5LmNsYXNzTGlzdC5hZGQoJ2ZhLXBsYXknKTtcclxuICAgIHBsYXkuY2xhc3NMaXN0LnJlbW92ZSgnZmEtcGF1c2UnKTtcclxuICAgIHBsYXllckljb24uc3R5bGUuZGlzcGxheSA9ICdmbGV4J1xyXG59XHJcbmZ1bmN0aW9uIHNwZWVkRG93blZpZGVvKCkge1xyXG4gICAgdmlkZW8ucGxheSgpXHJcbiAgICB2aWRlby5wbGF5YmFja1JhdGU9c3BlZWRcclxuICAgIHNwZWVkIC09IDAuNSBcclxuICAgIGlmIChzcGVlZCA8PSAwLjUpIHtcclxuICAgICAgICBzcGVlZCA9IDAuNVxyXG4gICAgfVxyXG4gICAgcGxheS5jbGFzc0xpc3QucmVtb3ZlKCdmYS1wbGF5Jyk7XHJcbiAgICBwbGF5LmNsYXNzTGlzdC5hZGQoJ2ZhLXBhdXNlJyk7XHJcbn1cclxuZnVuY3Rpb24gc3BlZWRVcFZpZGVvKCkge1xyXG4gICAgdmlkZW8ucGxheSgpXHJcbiAgICB2aWRlby5wbGF5YmFja1JhdGUgPSBzcGVlZDtcclxuICAgIHNwZWVkICs9IDAuNTtcclxuICAgIGlmKHNwZWVkID49IDMpe1xyXG4gICAgICAgIHNwZWVkID0gM1xyXG4gICAgfVxyXG4gICAgcGxheS5jbGFzc0xpc3QucmVtb3ZlKCdmYS1wbGF5Jyk7XHJcbiAgICBwbGF5LmNsYXNzTGlzdC5hZGQoJ2ZhLXBhdXNlJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHZpZGVvUmV3aW5kKCkge1xyXG4gICAgbGV0IHdpZHRoID0gcHJvZ3Jlc3Mub2Zmc2V0V2lkdGg7XHJcbiAgICBsZXQgb2Zmc2V0ID0gZXZlbnQub2Zmc2V0WDtcclxuICAgIHByb2dyZXNzLnZhbHVlID0gMTAwICogb2Zmc2V0IC8gd2lkdGhcclxuICAgIHZpZGVvLmN1cnJlbnRUaW1lID0gdmlkZW8uZHVyYXRpb24gKiAob2Zmc2V0L3dpZHRoKVxyXG4gICAgY29uc29sZS5sb2cod2lkdGgpOyAgICBcclxufVxyXG52aWRlby5hZGRFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsICgpPT57XHJcbiAgICB2aWRlb19fdGltZSgpXHJcbn0pXHJcbnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ3RpbWV1cGRhdGUnLCAoKT0+e1xyXG4gICAgdmlkZW9fX3RpbWUoKVxyXG59KVxyXG5mdW5jdGlvbiBmaXhlZChudW1iZXIpIHtcclxuICAgIHJldHVybiBudW1iZXIgPCAxMCA/IGAwJHtudW1iZXJ9YCA6IGAke251bWJlcn1gIFxyXG59XHJcblxyXG5mdW5jdGlvbiB2aWRlb19fdGltZSgpIHtcclxuICAgIGNvbnN0IGR1cmF0aW9uID0gTnVtYmVyKHZpZGVvLmR1cmF0aW9uLnRvRml4ZWQoKSlcclxuICAgIGNvbnN0IGN1cnJlbnQgPSBOdW1iZXIodmlkZW8uY3VycmVudFRpbWUudG9GaXhlZCgpKVxyXG4gICAgbGV0IHRpbWVyID0gYCR7Zml4ZWQoTWF0aC5mbG9vcihjdXJyZW50IC8gNjApKX06JHtmaXhlZChNYXRoLmZsb29yKGN1cnJlbnQgJSA2MCkpfWBcclxuICAgIGxldCBkdXIgPSBgJHtNYXRoLmZsb29yKGR1cmF0aW9uIC8gNjApfToke01hdGguZmxvb3IoZHVyYXRpb24gJSA2MCl9YFxyXG4gICAgdGltZS5pbm5lckhUTUwgPSBgJHt0aW1lcn0gLyAke2R1cn1gXHJcbn1cclxuIl0sImZpbGUiOiJjb21wb25lbnRzL3ZpZGVvUGxheWVyLm1pbi5qcyJ9
