"use strict";var menu=document.querySelector(".header__menu-item"),nav=document.querySelector(".header__nav"),body=document.querySelector("body");menu.addEventListener("click",function(){menu.classList.toggle("active"),nav.classList.toggle("active"),console.log(menu),body.style.overflow=2==menu.classList.length?"hidden":"auto"});var video=document.querySelector("video"),play=document.querySelector(".fa-play"),stop=document.querySelector(".fa-stop"),playerIcon=document.querySelector(".video__player-icon"),forward=document.querySelector(".fa-forward"),backward=document.querySelector(".fa-backward"),volume=document.querySelector(".volume"),progress=document.querySelector(".progress"),volumeUpDown=document.querySelector(".fa-volume-up"),time=document.querySelector(".video__time"),fullScreen=document.querySelector(".fullScreen");playerIcon.addEventListener("click",function(){video__time(),player(),playerIcon.style.display="none"}),video.addEventListener("click",function(){player(),playerIcon.style.display="none"}),play.addEventListener("click",function(){player(),playerIcon.style.display="none"}),stop.addEventListener("click",function(){stopVideo()}),volume.addEventListener("input",function(){var a=volume.value;video.volume=a/100,save=volume.value}),video.addEventListener("timeupdate",function(){progressUpadate(),playerIcon.style.display="none"}),backward.addEventListener("click",function(){speedDownVideo(),playerIcon.style.display="none"}),forward.addEventListener("click",function(){speedUpVideo()}),progress.addEventListener("click",function(){videoRewind()}),volumeUpDown.addEventListener("click",function(){volumeUp()}),fullScreen.addEventListener("click",function(){video.requestFullscreen()});var speed=1;function progressUpadate(){var a=video.duration,b=video.currentTime;progress.value=100*b/a}function player(){play.classList.contains("fa-play")?(play.classList.add("fa-pause"),play.classList.remove("fa-play"),playVideo()):(play.classList.add("fa-play"),play.classList.remove("fa-pause"),pauseVideo())}var save=volume.value,saveVol=video.volume;function volumeUp(){var a=volume.value;video.volume=a/100,volumeUpDown.classList.contains("fa-volume-up")?(volumeUpDown.classList.add("fa-volume-mute"),volumeUpDown.classList.remove("fa-volume-up"),video.volume=0,volume.value=0):(volumeUpDown.classList.add("fa-volume-up"),volumeUpDown.classList.remove("fa-volume-mute"),video.volume=saveVol,volume.value=save)}function playVideo(){video.play()}function pauseVideo(){video.pause()}function stopVideo(){video.pause(),video.currentTime=0,play.classList.add("fa-play"),play.classList.remove("fa-pause"),playerIcon.style.display="flex"}function speedDownVideo(){video.play(),video.playbackRate=speed,speed-=.5,.5>=speed&&(speed=.5),play.classList.remove("fa-play"),play.classList.add("fa-pause")}function speedUpVideo(){video.play(),video.playbackRate=speed,speed+=.5,3<=speed&&(speed=3),play.classList.remove("fa-play"),play.classList.add("fa-pause")}function videoRewind(){var a=progress.offsetWidth,b=event.offsetX;progress.value=100*b/a,video.currentTime=video.duration*(b/a),console.log(a)}video.addEventListener("loadedmetadata",function(){video__time()}),video.addEventListener("timeupdate",function(){video__time()});function fixed(a){return 10>a?"0".concat(a):"".concat(a)}function video__time(){var a=+video.duration.toFixed(),b=+video.currentTime.toFixed(),c="".concat(fixed(Math.floor(b/60)),":").concat(fixed(Math.floor(b%60))),d="".concat(Math.floor(a/60),":").concat(Math.floor(a%60));time.innerHTML="".concat(c," / ").concat(d)}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvbWVudS5qcyIsIm1haW4uanMiLCJjb21wb25lbnRzL3ZpZGVvUGxheWVyLmpzIl0sIm5hbWVzIjpbIm1lbnUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJuYXYiLCJib2R5IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImNvbnNvbGUiLCJsb2ciLCJzdHlsZSIsIm92ZXJmbG93IiwibGVuZ3RoIiwidmlkZW8iLCJwbGF5Iiwic3RvcCIsInBsYXllckljb24iLCJmb3J3YXJkIiwiYmFja3dhcmQiLCJ2b2x1bWUiLCJwcm9ncmVzcyIsInZvbHVtZVVwRG93biIsInRpbWUiLCJmdWxsU2NyZWVuIiwidmlkZW9fX3RpbWUiLCJwbGF5ZXIiLCJkaXNwbGF5Iiwic3RvcFZpZGVvIiwidm9sIiwidmFsdWUiLCJzYXZlIiwicHJvZ3Jlc3NVcGFkYXRlIiwic3BlZWREb3duVmlkZW8iLCJzcGVlZFVwVmlkZW8iLCJ2aWRlb1Jld2luZCIsInZvbHVtZVVwIiwicmVxdWVzdEZ1bGxzY3JlZW4iLCJzcGVlZCIsImQiLCJkdXJhdGlvbiIsImMiLCJjdXJyZW50VGltZSIsImNvbnRhaW5zIiwiYWRkIiwicmVtb3ZlIiwicGxheVZpZGVvIiwicGF1c2VWaWRlbyIsInNhdmVWb2wiLCJwYXVzZSIsInBsYXliYWNrUmF0ZSIsIndpZHRoIiwib2Zmc2V0V2lkdGgiLCJvZmZzZXQiLCJldmVudCIsIm9mZnNldFgiLCJmaXhlZCIsIm51bWJlciIsInRvRml4ZWQiLCJjdXJyZW50IiwidGltZXIiLCJNYXRoIiwiZmxvb3IiLCJkdXIiLCJpbm5lckhUTUwiXSwibWFwcGluZ3MiOiJnQkFBQUEsQ0FBQUEsSUFBQSxDQUFBQyxRQUFBLENBQUFDLGFBQUEsQ0FBQSxvQkFBQSxDLENBQ0FDLEdBQUEsQ0FBQUYsUUFBQSxDQUFBQyxhQUFBLENBQUEsY0FBQSxDLENBQ0FFLElBQUEsQ0FBQUgsUUFBQSxDQUFBQyxhQUFBLENBQUEsTUFB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QUFBSCxDQUFBLENBQUEsRUFBQSxDQUFBLENBQUEsYUFBQUgsS0FBQSxDQUFBSyxJQUFBLENBQUFDLEtBQUEsQ0FBQUgsQ0FBQSxDQUFBLEVBQUEsQ0FBQSxDQUFBLENBSEEsQ0FJQUksQ0FBQSxXQUFBRixJQUFBLENBQUFDLEtBQUEsQ0FBQXRCLENBQUEsQ0FBQSxFQUFBLENBQUEsYUFBQXFCLElBQUEsQ0FBQUMsS0FBQSxDQUFBdEIsQ0FBQSxDQUFBLEVBQUEsQ0FBQSxDQUpBLENBS0FqQixJQUFBLENBQUF5QyxTQUFBLFdBQUFKLENBQUEsZUFBQUcsQ0FBQSxDQUNBIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IG1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlcl9fbWVudS1pdGVtXCIpO1xyXG5sZXQgbmF2ICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyX19uYXZcIik7XHJcbmxldCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpXHJcblxyXG5tZW51LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgbWVudS5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpXHJcbiAgICBuYXYuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKVxyXG4gICAgY29uc29sZS5sb2cobWVudSk7XHJcbiAgICBpZiAobWVudS5jbGFzc0xpc3QubGVuZ3RoID09IDIpIHtcclxuICAgICAgICBib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbidcclxuICAgICAgICBcclxuICAgIH0gZWxzZXtcclxuICAgICAgICBib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2F1dG8nXHJcbiAgICB9XHJcbn0pXHJcblxyXG4iLCJsZXQgbWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyX19tZW51LWl0ZW1cIik7XHJcbmxldCBuYXYgID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX25hdlwiKTtcclxubGV0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JylcclxuXHJcbm1lbnUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBtZW51LmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIilcclxuICAgIG5hdi5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpXHJcbiAgICBjb25zb2xlLmxvZyhtZW51KTtcclxuICAgIGlmIChtZW51LmNsYXNzTGlzdC5sZW5ndGggPT0gMikge1xyXG4gICAgICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJ1xyXG4gICAgICAgIFxyXG4gICAgfSBlbHNle1xyXG4gICAgICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnYXV0bydcclxuICAgIH1cclxufSlcclxuXHJcblxyXG5sZXQgdmlkZW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwidmlkZW9cIik7XHJcbmxldCBwbGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mYS1wbGF5XCIpO1xyXG5sZXQgc3RvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mYS1zdG9wJylcclxubGV0IHBsYXllckljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudmlkZW9fX3BsYXllci1pY29uJylcclxubGV0IGZvcndhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmEtZm9yd2FyZCcpXHJcbmxldCBiYWNrd2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mYS1iYWNrd2FyZCcpXHJcbmxldCB2b2x1bWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudm9sdW1lJylcclxubGV0IHByb2dyZXNzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2dyZXNzJylcclxubGV0IHZvbHVtZVVwRG93biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mYS12b2x1bWUtdXAnKVxyXG5sZXQgdGltZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy52aWRlb19fdGltZScpXHJcbmxldCBmdWxsU2NyZWVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZ1bGxTY3JlZW4nKVxyXG5cclxucGxheWVySWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XHJcbiAgICB2aWRlb19fdGltZSgpXHJcbiAgICBwbGF5ZXIoKVxyXG4gICAgcGxheWVySWNvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcbn0pXHJcbnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgcGxheWVyKClcclxuICAgIHBsYXllckljb24uc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG59KVxyXG5wbGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgcGxheWVyKClcclxuICAgIHBsYXllckljb24uc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG59KVxyXG5zdG9wLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcclxuICAgIHN0b3BWaWRlbygpXHJcbn0pXHJcbnZvbHVtZS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpPT57XHJcbiAgICBsZXQgdm9sID0gdm9sdW1lLnZhbHVlO1xyXG4gICAgdmlkZW8udm9sdW1lID0gdm9sIC8gMTAwXHJcbiAgICBzYXZlID0gdm9sdW1lLnZhbHVlXHJcbn0pXHJcbnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ3RpbWV1cGRhdGUnLCAoKT0+e1xyXG4gICAgcHJvZ3Jlc3NVcGFkYXRlKClcclxuICBcclxuICAgIHBsYXllckljb24uc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG4gICAgXHJcbn0pXHJcbmJhY2t3YXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoKT0+e1xyXG4gICAgc3BlZWREb3duVmlkZW8oKVxyXG4gICAgcGxheWVySWNvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcbiAgIFxyXG59KVxyXG5mb3J3YXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoKT0+e1xyXG4gICAgc3BlZWRVcFZpZGVvKClcclxufSlcclxuXHJcbnByb2dyZXNzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoKT0+e1xyXG4gICAgdmlkZW9SZXdpbmQoKVxyXG59KVxyXG52b2x1bWVVcERvd24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xyXG4gICAgXHJcbiAgICB2b2x1bWVVcCgpIFxyXG59KVxyXG5mdWxsU2NyZWVuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcclxuICAgIHZpZGVvLnJlcXVlc3RGdWxsc2NyZWVuKClcclxufSlcclxubGV0IHNwZWVkID0gMTtcclxuZnVuY3Rpb24gcHJvZ3Jlc3NVcGFkYXRlKCkge1xyXG4gICAgbGV0IGQgPSB2aWRlby5kdXJhdGlvblxyXG4gICAgbGV0IGM9IHZpZGVvLmN1cnJlbnRUaW1lXHJcbiAgICBwcm9ncmVzcy52YWx1ZSA9IDEwMCAqIGMgLyBkXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBsYXllcigpe1xyXG4gICAgaWYoIHBsYXkuY2xhc3NMaXN0LmNvbnRhaW5zKCdmYS1wbGF5JykgKXtcclxuICAgICAgICBwbGF5LmNsYXNzTGlzdC5hZGQoJ2ZhLXBhdXNlJyk7XHJcbiAgICAgICAgcGxheS5jbGFzc0xpc3QucmVtb3ZlKCdmYS1wbGF5Jyk7XHJcbiAgICAgICAgcGxheVZpZGVvKCk7ICAgIFxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcGxheS5jbGFzc0xpc3QuYWRkKCdmYS1wbGF5Jyk7XHJcbiAgICAgICAgcGxheS5jbGFzc0xpc3QucmVtb3ZlKCdmYS1wYXVzZScpO1xyXG4gICAgICAgIHBhdXNlVmlkZW8oKTtcclxuICAgIH0gIFxyXG59XHJcbmxldCBzYXZlID0gdm9sdW1lLnZhbHVlXHJcbmxldCBzYXZlVm9sID0gdmlkZW8udm9sdW1lXHJcblxyXG5mdW5jdGlvbiB2b2x1bWVVcCgpe1xyXG4gICAgbGV0IHZvbCA9IHZvbHVtZS52YWx1ZTtcclxuICAgICB2aWRlby52b2x1bWUgPSB2b2wgLzEwMFxyXG4gICAgaWYoIHZvbHVtZVVwRG93bi5jbGFzc0xpc3QuY29udGFpbnMoJ2ZhLXZvbHVtZS11cCcpKSB7XHJcbiAgICAgICAgdm9sdW1lVXBEb3duLmNsYXNzTGlzdC5hZGQoJ2ZhLXZvbHVtZS1tdXRlJyk7XHJcbiAgICAgICAgdm9sdW1lVXBEb3duLmNsYXNzTGlzdC5yZW1vdmUoJ2ZhLXZvbHVtZS11cCcpO1xyXG4gICAgICAgIHZpZGVvLnZvbHVtZSA9IDBcclxuICAgICAgICB2b2x1bWUudmFsdWUgPSAwXHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2b2x1bWVVcERvd24uY2xhc3NMaXN0LmFkZCgnZmEtdm9sdW1lLXVwJyk7XHJcbiAgICAgICAgdm9sdW1lVXBEb3duLmNsYXNzTGlzdC5yZW1vdmUoJ2ZhLXZvbHVtZS1tdXRlJyk7XHJcbiAgICAgICAgdmlkZW8udm9sdW1lID0gc2F2ZVZvbFxyXG4gICAgICAgIHZvbHVtZS52YWx1ZSA9IHNhdmVcclxuICAgIH0gXHJcbn1cclxuZnVuY3Rpb24gcGxheVZpZGVvKCkge1xyXG4gICAgdmlkZW8ucGxheSgpO1xyXG59XHJcbmZ1bmN0aW9uIHBhdXNlVmlkZW8oKSB7XHJcbiAgICB2aWRlby5wYXVzZSgpXHJcbn1cclxuZnVuY3Rpb24gc3RvcFZpZGVvKCkge1xyXG4gICAgdmlkZW8ucGF1c2UoKVxyXG4gICAgdmlkZW8uY3VycmVudFRpbWUgPSAwXHJcbiAgICBwbGF5LmNsYXNzTGlzdC5hZGQoJ2ZhLXBsYXknKTtcclxuICAgIHBsYXkuY2xhc3NMaXN0LnJlbW92ZSgnZmEtcGF1c2UnKTtcclxuICAgIHBsYXllckljb24uc3R5bGUuZGlzcGxheSA9ICdmbGV4J1xyXG59XHJcbmZ1bmN0aW9uIHNwZWVkRG93blZpZGVvKCkge1xyXG4gICAgdmlkZW8ucGxheSgpXHJcbiAgICB2aWRlby5wbGF5YmFja1JhdGU9c3BlZWRcclxuICAgIHNwZWVkIC09IDAuNSBcclxuICAgIGlmIChzcGVlZCA8PSAwLjUpIHtcclxuICAgICAgICBzcGVlZCA9IDAuNVxyXG4gICAgfVxyXG4gICAgcGxheS5jbGFzc0xpc3QucmVtb3ZlKCdmYS1wbGF5Jyk7XHJcbiAgICBwbGF5LmNsYXNzTGlzdC5hZGQoJ2ZhLXBhdXNlJyk7XHJcbn1cclxuZnVuY3Rpb24gc3BlZWRVcFZpZGVvKCkge1xyXG4gICAgdmlkZW8ucGxheSgpXHJcbiAgICB2aWRlby5wbGF5YmFja1JhdGUgPSBzcGVlZDtcclxuICAgIHNwZWVkICs9IDAuNTtcclxuICAgIGlmKHNwZWVkID49IDMpe1xyXG4gICAgICAgIHNwZWVkID0gM1xyXG4gICAgfVxyXG4gICAgcGxheS5jbGFzc0xpc3QucmVtb3ZlKCdmYS1wbGF5Jyk7XHJcbiAgICBwbGF5LmNsYXNzTGlzdC5hZGQoJ2ZhLXBhdXNlJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHZpZGVvUmV3aW5kKCkge1xyXG4gICAgbGV0IHdpZHRoID0gcHJvZ3Jlc3Mub2Zmc2V0V2lkdGg7XHJcbiAgICBsZXQgb2Zmc2V0ID0gZXZlbnQub2Zmc2V0WDtcclxuICAgIHByb2dyZXNzLnZhbHVlID0gMTAwICogb2Zmc2V0IC8gd2lkdGhcclxuICAgIHZpZGVvLmN1cnJlbnRUaW1lID0gdmlkZW8uZHVyYXRpb24gKiAob2Zmc2V0L3dpZHRoKVxyXG4gICAgY29uc29sZS5sb2cod2lkdGgpOyAgICBcclxufVxyXG52aWRlby5hZGRFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsICgpPT57XHJcbiAgICB2aWRlb19fdGltZSgpXHJcbn0pXHJcbnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ3RpbWV1cGRhdGUnLCAoKT0+e1xyXG4gICAgdmlkZW9fX3RpbWUoKVxyXG59KVxyXG5mdW5jdGlvbiBmaXhlZChudW1iZXIpIHtcclxuICAgIHJldHVybiBudW1iZXIgPCAxMCA/IGAwJHtudW1iZXJ9YCA6IGAke251bWJlcn1gIFxyXG59XHJcblxyXG5mdW5jdGlvbiB2aWRlb19fdGltZSgpIHtcclxuICAgIGNvbnN0IGR1cmF0aW9uID0gTnVtYmVyKHZpZGVvLmR1cmF0aW9uLnRvRml4ZWQoKSlcclxuICAgIGNvbnN0IGN1cnJlbnQgPSBOdW1iZXIodmlkZW8uY3VycmVudFRpbWUudG9GaXhlZCgpKVxyXG4gICAgbGV0IHRpbWVyID0gYCR7Zml4ZWQoTWF0aC5mbG9vcihjdXJyZW50IC8gNjApKX06JHtmaXhlZChNYXRoLmZsb29yKGN1cnJlbnQgJSA2MCkpfWBcclxuICAgIGxldCBkdXIgPSBgJHtNYXRoLmZsb29yKGR1cmF0aW9uIC8gNjApfToke01hdGguZmxvb3IoZHVyYXRpb24gJSA2MCl9YFxyXG4gICAgdGltZS5pbm5lckhUTUwgPSBgJHt0aW1lcn0gLyAke2R1cn1gXHJcbn1cclxuIiwibGV0IHZpZGVvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcInZpZGVvXCIpO1xyXG5sZXQgcGxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZmEtcGxheVwiKTtcclxubGV0IHN0b3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmEtc3RvcCcpXHJcbmxldCBwbGF5ZXJJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnZpZGVvX19wbGF5ZXItaWNvbicpXHJcbmxldCBmb3J3YXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZhLWZvcndhcmQnKVxyXG5sZXQgYmFja3dhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmEtYmFja3dhcmQnKVxyXG5sZXQgdm9sdW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnZvbHVtZScpXHJcbmxldCBwcm9ncmVzcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9ncmVzcycpXHJcbmxldCB2b2x1bWVVcERvd24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmEtdm9sdW1lLXVwJylcclxubGV0IHRpbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudmlkZW9fX3RpbWUnKVxyXG5sZXQgZnVsbFNjcmVlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mdWxsU2NyZWVuJylcclxuXHJcbnBsYXllckljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xyXG4gICAgdmlkZW9fX3RpbWUoKVxyXG4gICAgcGxheWVyKClcclxuICAgIHBsYXllckljb24uc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG59KVxyXG52aWRlby5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIHBsYXllcigpXHJcbiAgICBwbGF5ZXJJY29uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxufSlcclxucGxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIHBsYXllcigpXHJcbiAgICBwbGF5ZXJJY29uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxufSlcclxuc3RvcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XHJcbiAgICBzdG9wVmlkZW8oKVxyXG59KVxyXG52b2x1bWUuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKT0+e1xyXG4gICAgbGV0IHZvbCA9IHZvbHVtZS52YWx1ZTtcclxuICAgIHZpZGVvLnZvbHVtZSA9IHZvbCAvIDEwMFxyXG4gICAgc2F2ZSA9IHZvbHVtZS52YWx1ZVxyXG59KVxyXG52aWRlby5hZGRFdmVudExpc3RlbmVyKCd0aW1ldXBkYXRlJywgKCk9PntcclxuICAgIHByb2dyZXNzVXBhZGF0ZSgpXHJcbiAgXHJcbiAgICBwbGF5ZXJJY29uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxuICAgIFxyXG59KVxyXG5iYWNrd2FyZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsKCk9PntcclxuICAgIHNwZWVkRG93blZpZGVvKClcclxuICAgIHBsYXllckljb24uc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG4gICBcclxufSlcclxuZm9yd2FyZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsKCk9PntcclxuICAgIHNwZWVkVXBWaWRlbygpXHJcbn0pXHJcblxyXG5wcm9ncmVzcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsKCk9PntcclxuICAgIHZpZGVvUmV3aW5kKClcclxufSlcclxudm9sdW1lVXBEb3duLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcclxuICAgIFxyXG4gICAgdm9sdW1lVXAoKSBcclxufSlcclxuZnVsbFNjcmVlbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XHJcbiAgICB2aWRlby5yZXF1ZXN0RnVsbHNjcmVlbigpXHJcbn0pXHJcbmxldCBzcGVlZCA9IDE7XHJcbmZ1bmN0aW9uIHByb2dyZXNzVXBhZGF0ZSgpIHtcclxuICAgIGxldCBkID0gdmlkZW8uZHVyYXRpb25cclxuICAgIGxldCBjPSB2aWRlby5jdXJyZW50VGltZVxyXG4gICAgcHJvZ3Jlc3MudmFsdWUgPSAxMDAgKiBjIC8gZFxyXG59XHJcblxyXG5mdW5jdGlvbiBwbGF5ZXIoKXtcclxuICAgIGlmKCBwbGF5LmNsYXNzTGlzdC5jb250YWlucygnZmEtcGxheScpICl7XHJcbiAgICAgICAgcGxheS5jbGFzc0xpc3QuYWRkKCdmYS1wYXVzZScpO1xyXG4gICAgICAgIHBsYXkuY2xhc3NMaXN0LnJlbW92ZSgnZmEtcGxheScpO1xyXG4gICAgICAgIHBsYXlWaWRlbygpOyAgICBcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHBsYXkuY2xhc3NMaXN0LmFkZCgnZmEtcGxheScpO1xyXG4gICAgICAgIHBsYXkuY2xhc3NMaXN0LnJlbW92ZSgnZmEtcGF1c2UnKTtcclxuICAgICAgICBwYXVzZVZpZGVvKCk7XHJcbiAgICB9ICBcclxufVxyXG5sZXQgc2F2ZSA9IHZvbHVtZS52YWx1ZVxyXG5sZXQgc2F2ZVZvbCA9IHZpZGVvLnZvbHVtZVxyXG5cclxuZnVuY3Rpb24gdm9sdW1lVXAoKXtcclxuICAgIGxldCB2b2wgPSB2b2x1bWUudmFsdWU7XHJcbiAgICAgdmlkZW8udm9sdW1lID0gdm9sIC8xMDBcclxuICAgIGlmKCB2b2x1bWVVcERvd24uY2xhc3NMaXN0LmNvbnRhaW5zKCdmYS12b2x1bWUtdXAnKSkge1xyXG4gICAgICAgIHZvbHVtZVVwRG93bi5jbGFzc0xpc3QuYWRkKCdmYS12b2x1bWUtbXV0ZScpO1xyXG4gICAgICAgIHZvbHVtZVVwRG93bi5jbGFzc0xpc3QucmVtb3ZlKCdmYS12b2x1bWUtdXAnKTtcclxuICAgICAgICB2aWRlby52b2x1bWUgPSAwXHJcbiAgICAgICAgdm9sdW1lLnZhbHVlID0gMFxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdm9sdW1lVXBEb3duLmNsYXNzTGlzdC5hZGQoJ2ZhLXZvbHVtZS11cCcpO1xyXG4gICAgICAgIHZvbHVtZVVwRG93bi5jbGFzc0xpc3QucmVtb3ZlKCdmYS12b2x1bWUtbXV0ZScpO1xyXG4gICAgICAgIHZpZGVvLnZvbHVtZSA9IHNhdmVWb2xcclxuICAgICAgICB2b2x1bWUudmFsdWUgPSBzYXZlXHJcbiAgICB9IFxyXG59XHJcbmZ1bmN0aW9uIHBsYXlWaWRlbygpIHtcclxuICAgIHZpZGVvLnBsYXkoKTtcclxufVxyXG5mdW5jdGlvbiBwYXVzZVZpZGVvKCkge1xyXG4gICAgdmlkZW8ucGF1c2UoKVxyXG59XHJcbmZ1bmN0aW9uIHN0b3BWaWRlbygpIHtcclxuICAgIHZpZGVvLnBhdXNlKClcclxuICAgIHZpZGVvLmN1cnJlbnRUaW1lID0gMFxyXG4gICAgcGxheS5jbGFzc0xpc3QuYWRkKCdmYS1wbGF5Jyk7XHJcbiAgICBwbGF5LmNsYXNzTGlzdC5yZW1vdmUoJ2ZhLXBhdXNlJyk7XHJcbiAgICBwbGF5ZXJJY29uLnN0eWxlLmRpc3BsYXkgPSAnZmxleCdcclxufVxyXG5mdW5jdGlvbiBzcGVlZERvd25WaWRlbygpIHtcclxuICAgIHZpZGVvLnBsYXkoKVxyXG4gICAgdmlkZW8ucGxheWJhY2tSYXRlPXNwZWVkXHJcbiAgICBzcGVlZCAtPSAwLjUgXHJcbiAgICBpZiAoc3BlZWQgPD0gMC41KSB7XHJcbiAgICAgICAgc3BlZWQgPSAwLjVcclxuICAgIH1cclxuICAgIHBsYXkuY2xhc3NMaXN0LnJlbW92ZSgnZmEtcGxheScpO1xyXG4gICAgcGxheS5jbGFzc0xpc3QuYWRkKCdmYS1wYXVzZScpO1xyXG59XHJcbmZ1bmN0aW9uIHNwZWVkVXBWaWRlbygpIHtcclxuICAgIHZpZGVvLnBsYXkoKVxyXG4gICAgdmlkZW8ucGxheWJhY2tSYXRlID0gc3BlZWQ7XHJcbiAgICBzcGVlZCArPSAwLjU7XHJcbiAgICBpZihzcGVlZCA+PSAzKXtcclxuICAgICAgICBzcGVlZCA9IDNcclxuICAgIH1cclxuICAgIHBsYXkuY2xhc3NMaXN0LnJlbW92ZSgnZmEtcGxheScpO1xyXG4gICAgcGxheS5jbGFzc0xpc3QuYWRkKCdmYS1wYXVzZScpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB2aWRlb1Jld2luZCgpIHtcclxuICAgIGxldCB3aWR0aCA9IHByb2dyZXNzLm9mZnNldFdpZHRoO1xyXG4gICAgbGV0IG9mZnNldCA9IGV2ZW50Lm9mZnNldFg7XHJcbiAgICBwcm9ncmVzcy52YWx1ZSA9IDEwMCAqIG9mZnNldCAvIHdpZHRoXHJcbiAgICB2aWRlby5jdXJyZW50VGltZSA9IHZpZGVvLmR1cmF0aW9uICogKG9mZnNldC93aWR0aClcclxuICAgIGNvbnNvbGUubG9nKHdpZHRoKTsgICAgXHJcbn1cclxudmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkbWV0YWRhdGEnLCAoKT0+e1xyXG4gICAgdmlkZW9fX3RpbWUoKVxyXG59KVxyXG52aWRlby5hZGRFdmVudExpc3RlbmVyKCd0aW1ldXBkYXRlJywgKCk9PntcclxuICAgIHZpZGVvX190aW1lKClcclxufSlcclxuZnVuY3Rpb24gZml4ZWQobnVtYmVyKSB7XHJcbiAgICByZXR1cm4gbnVtYmVyIDwgMTAgPyBgMCR7bnVtYmVyfWAgOiBgJHtudW1iZXJ9YCBcclxufVxyXG5cclxuZnVuY3Rpb24gdmlkZW9fX3RpbWUoKSB7XHJcbiAgICBjb25zdCBkdXJhdGlvbiA9IE51bWJlcih2aWRlby5kdXJhdGlvbi50b0ZpeGVkKCkpXHJcbiAgICBjb25zdCBjdXJyZW50ID0gTnVtYmVyKHZpZGVvLmN1cnJlbnRUaW1lLnRvRml4ZWQoKSlcclxuICAgIGxldCB0aW1lciA9IGAke2ZpeGVkKE1hdGguZmxvb3IoY3VycmVudCAvIDYwKSl9OiR7Zml4ZWQoTWF0aC5mbG9vcihjdXJyZW50ICUgNjApKX1gXHJcbiAgICBsZXQgZHVyID0gYCR7TWF0aC5mbG9vcihkdXJhdGlvbiAvIDYwKX06JHtNYXRoLmZsb29yKGR1cmF0aW9uICUgNjApfWBcclxuICAgIHRpbWUuaW5uZXJIVE1MID0gYCR7dGltZXJ9IC8gJHtkdXJ9YFxyXG59XHJcbiJdfQ==
