"use strict";var menu=document.querySelector(".header__menu-item"),nav=document.querySelector(".header__nav"),body=document.querySelector("body");menu.addEventListener("click",function(){menu.classList.toggle("active"),nav.classList.toggle("active"),console.log(menu),body.style.overflow=2==menu.classList.length?"hidden":"auto"});var video=document.querySelector("video"),play=document.querySelector(".fa-play"),stop=document.querySelector(".fa-stop"),playerIcon=document.querySelector(".video__player-icon"),forward=document.querySelector(".fa-forward"),backward=document.querySelector(".fa-backward"),volume=document.querySelector(".volume"),progress=document.querySelector(".progress"),volumeUpDown=document.querySelector(".fa-volume-up"),time=document.querySelector(".video__time"),fullScreen=document.querySelector(".fullScreen");playerIcon.addEventListener("click",function(){video__time(),player(),playerIcon.style.display="none"}),video.addEventListener("click",function(){player(),playerIcon.style.display="none"}),play.addEventListener("click",function(){player(),playerIcon.style.display="none"}),stop.addEventListener("click",function(){stopVideo()}),volume.addEventListener("input",function(){var a=volume.value;video.volume=a/100,console.log(a)}),video.addEventListener("timeupdate",function(){progressUpadate(),playerIcon.style.display="none"}),backward.addEventListener("click",function(){speedDownVideo(),playerIcon.style.display="none"}),forward.addEventListener("click",function(){speedUpVideo()}),progress.addEventListener("click",function(){videoRewind()}),volumeUpDown.addEventListener("click",function(){volumeUp()}),fullScreen.addEventListener("click",function(){video.requestFullscreen()});var speed=1;function progressUpadate(){var a=video.duration,b=video.currentTime;progress.value=100*b/a}function player(){play.classList.contains("fa-play")?(play.classList.add("fa-pause"),play.classList.remove("fa-play"),playVideo()):(play.classList.add("fa-play"),play.classList.remove("fa-pause"),pauseVideo())}var save=volume.value,saveVol=video.volume;function volumeUp(){var a=volume.value;video.volume=a/100,volumeUpDown.classList.contains("fa-volume-up")?(volumeUpDown.classList.add("fa-volume-mute"),volumeUpDown.classList.remove("fa-volume-up"),video.volume=0,volume.value=0):(volumeUpDown.classList.add("fa-volume-up"),volumeUpDown.classList.remove("fa-volume-mute"),volume.value=save,video.volume=saveVol)}function playVideo(){video.play()}function pauseVideo(){video.pause()}function stopVideo(){video.pause(),video.currentTime=0,play.classList.add("fa-play"),play.classList.remove("fa-pause"),playerIcon.style.display="flex"}function speedDownVideo(){video.play(),video.playbackRate=speed,speed-=.5,.5>=speed&&(speed=.5),play.classList.remove("fa-play"),play.classList.add("fa-pause")}function speedUpVideo(){video.play(),video.playbackRate=speed,speed+=.5,3<=speed&&(speed=3),play.classList.remove("fa-play"),play.classList.add("fa-pause")}function videoRewind(){var a=progress.offsetWidth,b=event.offsetX;// console.log(offset);    
progress.value=100*b/a,video.currentTime=video.duration*(b/a),console.log(a)}video.addEventListener("loadedmetadata",function(){video__time()}),video.addEventListener("timeupdate",function(){video__time()});function fixed(a){return 10>a?"0".concat(a):"".concat(a)}function video__time(){var a=+video.duration.toFixed(),b=+video.currentTime.toFixed(),c="".concat(fixed(Math.floor(b/60)),":").concat(fixed(Math.floor(b%60))),d="".concat(Math.floor(a/60),":").concat(Math.floor(a%60));time.innerHTML="".concat(c," / ").concat(d)}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvbWVudS5qcyIsIm1haW4uanMiLCJjb21wb25lbnRzL3ZpZGVvUGxheWVyLmpzIl0sIm5hbWVzIjpbIm1lbnUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJuYXYiLCJib2R5IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImNvbnNvbGUiLCJsb2ciLCJzdHlsZSIsIm92ZXJmbG93IiwibGVuZ3RoIiwidmlkZW8iLCJwbGF5Iiwic3RvcCIsInBsYXllckljb24iLCJmb3J3YXJkIiwiYmFja3dhcmQiLCJ2b2x1bWUiLCJwcm9ncmVzcyIsInZvbHVtZVVwRG93biIsInRpbWUiLCJmdWxsU2NyZWVuIiwidmlkZW9fX3RpbWUiLCJwbGF5ZXIiLCJkaXNwbGF5Iiwic3RvcFZpZGVvIiwidm9sIiwidmFsdWUiLCJwcm9ncmVzc1VwYWRhdGUiLCJzcGVlZERvd25WaWRlbyIsInNwZWVkVXBWaWRlbyIsInZpZGVvUmV3aW5kIiwidm9sdW1lVXAiLCJyZXF1ZXN0RnVsbHNjcmVlbiIsInNwZWVkIiwiZCIsImR1cmF0aW9uIiwiYyIsImN1cnJlbnRUaW1lIiwiY29udGFpbnMiLCJhZGQiLCJyZW1vdmUiLCJwbGF5VmlkZW8iLCJwYXVzZVZpZGVvIiwic2F2ZSIsInNhdmVWb2wiLCJwYXVzZSIsInBsYXliYWNrUmF0ZSIsIndpZHRoIiwib2Zmc2V0V2lkdGgiLCJvZmZzZXQiLCJldmVudCIsIm9mZnNldFgiLCJmaXhlZCIsIm51bWJlciIsInRvRml4ZWQiLCJjdXJyZW50IiwidGltZXIiLCJNYXRoIiwiZmxvb3IiLCJkdXIiLCJpbm5lckhUTUwiXSwibWFwcGluZ3MiOiJnQkFBQUEsQ0FBQUEsSUFBQSxDQUFBQyxRQUFBLENBQUFDLGFBQUEsQ0FBQSxvQkFBQSxDLENBQ0FDLEdBQUEsQ0FBQUYsUUFBQSxDQUFBQyxhQUFBLENBQUEsY0FBQSxDLENBQ0FFLElBQUEsQ0FBQUgsUUFBQSxDQUFBQyxhQUFBLENBQUEsTUFBQSxDLENBRUFGLElBQUEsQ0FBQUssZ0JBQUEsQ0FBQSxPQUFBLENBQUEsVUFBQSxDQUNBTCxJQUFBLENBQUFNLFNBQUEsQ0FBQUMsTUFBQSxDQUFBLFFBQUEsQ0FEQSxDQUVBSixHQUFBLENBQUFHLFNBQUEsQ0FBQUMsTUFBQSxDQUFBLFFBQUEsQ0FGQSxDQUdBQyxPQUFBLENBQUFDLEdBQUEsQ0FBQVQsSUFBQSxDQUhBLENBS0FJLElBQUEsQ0FBQU0sS0FBQSxDQUFBQyxRQUxBLENBSUEsQ0FBQSxFQUFBWCxJQUFBLENBQUFNLFNBQUEsQ0FBQU0sTUFKQSxDQUtBLFFBTEEsQ0FRQSxNQUVBLENBVkEsQyxJQWFBQyxDQUFBQSxLQUFBLENBQUFaLFFBQUEsQ0FBQUMsYUFBQSxDQUFBLE9BQUEsQyxDQUNBWSxJQUFBLENBQUFiLFFBQUEsQ0FBQUMsYUFBQSxDQUFBLFVBQUEsQyxDQUNBYSxJQUFBLENBQUFkLFFBQUEsQ0FBQUMsYUFBQSxDQUFBLFVBQUEsQyxDQUNBYyxVQUFBLENBQUFmLFFBQUEsQ0FBQUMsYUFBQSxDQUFBLHFCQUFBLEMsQ0FDQWUsT0FBQSxDQUFBaEIsUUFBQSxDQUFBQyxhQUFBLENBQUEsYUFBQSxDLENBQ0FnQixRQUFBLENBQUFqQixRQUFBLENBQUFDLGFBQUEsQ0FBQSxjQUFBLEMsQ0FDQWlCLE1BQUEsQ0FBQWxCLFFBQUEsQ0FBQUMsYUFBQSxDQUFBLFNBQUEsQyxDQUNBa0IsUUFBQSxDQUFBbkIsUUFBQSxDQUFBQyxhQUFBLENBQUEsV0FBQSxDLENBQ0FtQixZQUFBLENBQUFwQixRQUFBLENBQUFDLGFBQUEsQ0FBQSxlQUFBLEMsQ0FDQW9CLElBQUEsQ0FBQXJCLFFBQUEsQ0FBQUMsYUFBQSxDQUFBLGNBQUEsQyxDQUNBcUIsVUFBQSxDQUFBdEIsUUFBQSxDQUFBQyxhQUFBLENBQUEsYUFBQSxDLENBR0FjLFVBQUEsQ0FBQVgsZ0JBQUEsQ0FBQSxPQUFBLENBQUEsVUFBQSxDQUNBbUIsV0FBQSxFQURBLENBRUFDLE1BQUEsRUFGQSxDQzdCQVQsVUFBQSxDQUFBTixLQUFBLENBQUFnQixPQUFBLENBQUEsTUNEQSxDRjhCQSxDLENFN0JBYixLQUFBLENBQUFSLGdCQUFBLENBQUEsT0FBQSxDQUFBLFVBQUEsQ0FDQW9CLE1BQUEsRUFEQSxDQUVBVCxVQUFBLENBQUFOLEtBQUEsQ0FBQWdCLE9BQUEsQ0FBQSxNQUNBLENBSEEsQyxDQUlBWixJQUFBLENBQUFULGdCQUFBLENBQUEsT0FBQSxDQUFBLFVBQUEsQ0FDQW9CLE1BQUEsRUFEQSxDQUVBVCxVQUFBLENBQUFOLEtBQUEsQ0FBQWdCLE9BQUEsQ0FBQSxNQUNBLENBSEEsQyxDQUlBWCxJQUFBLENBQUFWLGdCQUFBLENBQUEsT0FBQSxDQUFBLFVBQUEsQ0FDQXNCLFNBQUEsRUFFQSxDQUhBLEMsQ0FJQVIsTUFBQSxDQUFBZCxnQkFBQSxDQUFBLE9BQUEsQ0FBQSxVQUFBLENBQ0EsR0FBQXVCLENBQUFBLENBQUEsQ0FBQVQsTUFBQSxDQUFBVSxLQUFBLENBQ0FoQixLQUFBLENBQUFNLE1BQUEsQ0FBQVMsQ0FBQSxDQUFBLEdBRkEsQ0FHQXBCLE9BQUEsQ0FBQUMsR0FBQSxDQUFBbUIsQ0FBQSxDQUVBLENBTEEsQyxDQU1BZixLQUFBLENBQUFSLGdCQUFBLENBQUEsWUFBQSxDQUFBLFVBQUEsQ0FDQXlCLGVBQUEsRUFEQSxDQUdBZCxVQUFBLENBQUFOLEtBQUEsQ0FBQWdCLE9BQUEsQ0FBQSxNQUVBLENBTEEsQyxDQU1BUixRQUFBLENBQUFiLGdCQUFBLENBQUEsT0FBQSxDQUFBLFVBQUEsQ0FDQTBCLGNBQUEsRUFEQSxDQUVBZixVQUFBLENBQUFOLEtBQUEsQ0FBQWdCLE9BQUEsQ0FBQSxNQUVBLENBSkEsQyxDQUtBVCxPQUFBLENBQUFaLGdCQUFBLENBQUEsT0FBQSxDQUFBLFVBQUEsQ0FDQTJCLFlBQUEsRUFDQSxDQUZBLEMsQ0FJQVosUUFBQSxDQUFBZixnQkFBQSxDQUFBLE9BQUEsQ0FBQSxVQUFBLENBQ0E0QixXQUFBLEVBQ0EsQ0FGQSxDLENBR0FaLFlBQUEsQ0FBQWhCLGdCQUFBLENBQUEsT0FBQSxDQUFBLFVBQUEsQ0FFQTZCLFFBQUEsRUFDQSxDQUhBLEMsQ0FJQVgsVUFBQSxDQUFBbEIsZ0JBQUEsQ0FBQSxPQUFBLENBQUEsVUFBQSxDQUNBUSxLQUFBLENBQUFzQixpQkFBQSxFQUNBLENBRkEsQyxDQUdBLEdBQUFDLENBQUFBLEtBQUEsQ0FBQSxDQUFBLENBQ0EsUUFBQU4sQ0FBQUEsZUFBQSxFQUFBLElBQ0FPLENBQUFBLENBQUEsQ0FBQXhCLEtBQUEsQ0FBQXlCLFFBREEsQ0FFQUMsQ0FBQSxDQUFBMUIsS0FBQSxDQUFBMkIsV0FGQSxDQUdBcEIsUUFBQSxDQUFBUyxLQUFBLENBQUEsSUFBQVUsQ0FBQSxDQUFBRixDQUVBLENBRUEsUUFBQVosQ0FBQUEsTUFBQSxFQUFBLENBQ0FYLElBQUEsQ0FBQVIsU0FBQSxDQUFBbUMsUUFBQSxDQUFBLFNBQUEsQ0FEQSxFQUVBM0IsSUFBQSxDQUFBUixTQUFBLENBQUFvQyxHQUFBLENBQUEsVUFBQSxDQUZBLENBR0E1QixJQUFBLENBQUFSLFNBQUEsQ0FBQXFDLE1BQUEsQ0FBQSxTQUFBLENBSEEsQ0FJQUMsU0FBQSxFQUpBLEdBT0E5QixJQUFBLENBQUFSLFNBQUEsQ0FBQW9DLEdBQUEsQ0FBQSxTQUFBLENBUEEsQ0FRQTVCLElBQUEsQ0FBQVIsU0FBQSxDQUFBcUMsTUFBQSxDQUFBLFVBQUEsQ0FSQSxDQVNBRSxVQUFBLEVBVEEsQ0FXQSxDLEdBQ0FDLENBQUFBLElBQUEsQ0FBQTNCLE1BQUEsQ0FBQVUsSyxDQUNBa0IsT0FBQSxDQUFBbEMsS0FBQSxDQUFBTSxNLENBQ0EsUUFBQWUsQ0FBQUEsUUFBQSxFQUFBLENBQ0EsR0FBQU4sQ0FBQUEsQ0FBQSxDQUFBVCxNQUFBLENBQUFVLEtBQUEsQ0FDQWhCLEtBQUEsQ0FBQU0sTUFBQSxDQUFBUyxDQUFBLENBQUEsR0FGQSxDQUdBUCxZQUFBLENBQUFmLFNBQUEsQ0FBQW1DLFFBQUEsQ0FBQSxjQUFBLENBSEEsRUFJQXBCLFlBQUEsQ0FBQWYsU0FBQSxDQUFBb0MsR0FBQSxDQUFBLGdCQUFBLENBSkEsQ0FLQXJCLFlBQUEsQ0FBQWYsU0FBQSxDQUFBcUMsTUFBQSxDQUFBLGNBQUEsQ0FMQSxDQU9BOUIsS0FBQSxDQUFBTSxNQUFBLENBQUEsQ0FQQSxDQVFBQSxNQUFBLENBQUFVLEtBQUEsQ0FBQSxDQVJBLEdBYUFSLFlBQUEsQ0FBQWYsU0FBQSxDQUFBb0MsR0FBQSxDQUFBLGNBQUEsQ0FiQSxDQWNBckIsWUFBQSxDQUFBZixTQUFBLENBQUFxQyxNQUFBLENBQUEsZ0JBQUEsQ0FkQSxDQWVBeEIsTUFBQSxDQUFBVSxLQUFBLENBQUFpQixJQWZBLENBZ0JBakMsS0FBQSxDQUFBTSxNQUFBLENBQUE0QixPQWhCQSxDQWtCQSxDQUNBLFFBQUFILENBQUFBLFNBQUEsRUFBQSxDQUNBL0IsS0FBQSxDQUFBQyxJQUFBLEVBQ0EsQ0FDQSxRQUFBK0IsQ0FBQUEsVUFBQSxFQUFBLENBQ0FoQyxLQUFBLENBQUFtQyxLQUFBLEVBQ0EsQ0FDQSxRQUFBckIsQ0FBQUEsU0FBQSxFQUFBLENBQ0FkLEtBQUEsQ0FBQW1DLEtBQUEsRUFEQSxDQUVBbkMsS0FBQSxDQUFBMkIsV0FBQSxDQUFBLENBRkEsQ0FHQTFCLElBQUEsQ0FBQVIsU0FBQSxDQUFBb0MsR0FBQSxDQUFBLFNBQUEsQ0FIQSxDQUlBNUIsSUFBQSxDQUFBUixTQUFBLENBQUFxQyxNQUFBLENBQUEsVUFBQSxDQUpBLENBS0EzQixVQUFBLENBQUFOLEtBQUEsQ0FBQWdCLE9BQUEsQ0FBQSxNQUNBLENBQ0EsUUFBQUssQ0FBQUEsY0FBQSxFQUFBLENBQ0FsQixLQUFBLENBQUFDLElBQUEsRUFEQSxDQUVBRCxLQUFBLENBQUFvQyxZQUFBLENBQUFiLEtBRkEsQ0FHQUEsS0FBQSxFQUFBLEVBSEEsQ0FJQSxFQUFBLEVBQUFBLEtBSkEsR0FLQUEsS0FBQSxDQUFBLEVBTEEsRUFPQXRCLElBQUEsQ0FBQVIsU0FBQSxDQUFBcUMsTUFBQSxDQUFBLFNBQUEsQ0FQQSxDQVFBN0IsSUFBQSxDQUFBUixTQUFBLENBQUFvQyxHQUFBLENBQUEsVUFBQSxDQUVBLENBQ0EsUUFBQVYsQ0FBQUEsWUFBQSxFQUFBLENBQ0FuQixLQUFBLENBQUFDLElBQUEsRUFEQSxDQUVBRCxLQUFBLENBQUFvQyxZQUFBLENBQUFiLEtBRkEsQ0FHQUEsS0FBQSxFQUFBLEVBSEEsQ0FJQSxDQUFBLEVBQUFBLEtBSkEsR0FLQUEsS0FBQSxDQUFBLENBTEEsRUFPQXRCLElBQUEsQ0FBQVIsU0FBQSxDQUFBcUMsTUFBQSxDQUFBLFNBQUEsQ0FQQSxDQVFBN0IsSUFBQSxDQUFBUixTQUFBLENBQUFvQyxHQUFBLENBQUEsVUFBQSxDQUVBLENBRUEsUUFBQVQsQ0FBQUEsV0FBQSxFQUFBLElBQ0FpQixDQUFBQSxDQUFBLENBQUE5QixRQUFBLENBQUErQixXQURBLENBRUFDLENBQUEsQ0FBQUMsS0FBQSxDQUFBQyxPQUZBLENBS0E7QUFGQWxDLFFBQUEsQ0FBQVMsS0FBQSxDQUFBLElBQUF1QixDQUFBLENBQUFGLENBSEEsQ0FJQXJDLEtBQUEsQ0FBQTJCLFdBQUEsQ0FBQTNCLEtBQUEsQ0FBQXlCLFFBQUEsRUFBQWMsQ0FBQSxDQUFBRixDQUFBLENBSkEsQ0FNQTFDLE9BQUEsQ0FBQUMsR0FBQSxDQUFBeUMsQ0FBQSxDQUNBLENBQ0FyQyxLQUFBLENBQUFSLGdCQUFBLENBQUEsZ0JBQUEsQ0FBQSxVQUFBLENBQ0FtQixXQUFBLEVBRUEsQ0FIQSxDLENBSUFYLEtBQUEsQ0FBQVIsZ0JBQUEsQ0FBQSxZQUFBLENBQUEsVUFBQSxDQUNBbUIsV0FBQSxFQUVBLENBSEEsQyxDQUtBLFFBQUErQixDQUFBQSxLQUFBLENBQUFDLENBQUEsQ0FBQSxDQUNBLE1BQUEsR0FBQSxDQUFBQSxDQUFBLFlBQUFBLENBQUEsWUFBQUEsQ0FBQSxDQUNBLENBRUEsUUFBQWhDLENBQUFBLFdBQUEsRUFBQSxJQUNBYyxDQUFBQSxDQUFBLEVBQUF6QixLQUFBLENBQUF5QixRQUFBLENBQUFtQixPQUFBLEVBREEsQ0FFQUMsQ0FBQSxFQUFBN0MsS0FBQSxDQUFBMkIsV0FBQSxDQUFBaUIsT0FBQSxFQUZBLENBS0FFLENBQUEsV0FBQUosS0FBQSxDQUFBSyxJQUFBLENBQUFDLEtBQUEsQ0FBQUgsQ0FBQSxDQUFBLEVBQUEsQ0FBQSxDQUFBLGFBQUFILEtBQUEsQ0FBQUssSUFBQSxDQUFBQyxLQUFBLENBQUFILENBQUEsQ0FBQSxFQUFBLENBQUEsQ0FBQSxDQUxBLENBTUFJLENBQUEsV0FBQUYsSUFBQSxDQUFBQyxLQUFBLENBQUF2QixDQUFBLENBQUEsRUFBQSxDQUFBLGFBQUFzQixJQUFBLENBQUFDLEtBQUEsQ0FBQXZCLENBQUEsQ0FBQSxFQUFBLENBQUEsQ0FOQSxDQU9BaEIsSUFBQSxDQUFBeUMsU0FBQSxXQUFBSixDQUFBLGVBQUFHLENBQUEsQ0FHQSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCBtZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX21lbnUtaXRlbVwiKTtcclxubGV0IG5hdiAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlcl9fbmF2XCIpO1xyXG5sZXQgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKVxyXG5cclxubWVudS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIG1lbnUuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKVxyXG4gICAgbmF2LmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIilcclxuICAgIGNvbnNvbGUubG9nKG1lbnUpO1xyXG4gICAgaWYgKG1lbnUuY2xhc3NMaXN0Lmxlbmd0aCA9PSAyKSB7XHJcbiAgICAgICAgYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nXHJcbiAgICAgICAgXHJcbiAgICB9IGVsc2V7XHJcbiAgICAgICAgYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdhdXRvJ1xyXG4gICAgfVxyXG59KVxyXG5cclxuIiwibGV0IG1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlcl9fbWVudS1pdGVtXCIpO1xyXG5sZXQgbmF2ICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyX19uYXZcIik7XHJcbmxldCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpXHJcblxyXG5tZW51LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgbWVudS5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpXHJcbiAgICBuYXYuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKVxyXG4gICAgY29uc29sZS5sb2cobWVudSk7XHJcbiAgICBpZiAobWVudS5jbGFzc0xpc3QubGVuZ3RoID09IDIpIHtcclxuICAgICAgICBib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbidcclxuICAgICAgICBcclxuICAgIH0gZWxzZXtcclxuICAgICAgICBib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2F1dG8nXHJcbiAgICB9XHJcbn0pXHJcblxyXG5cclxubGV0IHZpZGVvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcInZpZGVvXCIpO1xyXG5sZXQgcGxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZmEtcGxheVwiKTtcclxubGV0IHN0b3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmEtc3RvcCcpXHJcbmxldCBwbGF5ZXJJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnZpZGVvX19wbGF5ZXItaWNvbicpXHJcbmxldCBmb3J3YXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZhLWZvcndhcmQnKVxyXG5sZXQgYmFja3dhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmEtYmFja3dhcmQnKVxyXG5sZXQgdm9sdW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnZvbHVtZScpXHJcbmxldCBwcm9ncmVzcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9ncmVzcycpXHJcbmxldCB2b2x1bWVVcERvd24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmEtdm9sdW1lLXVwJylcclxubGV0IHRpbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudmlkZW9fX3RpbWUnKVxyXG5sZXQgZnVsbFNjcmVlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mdWxsU2NyZWVuJylcclxuXHJcblxyXG5wbGF5ZXJJY29uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcclxuICAgIHZpZGVvX190aW1lKClcclxuICAgIHBsYXllcigpXHJcbiAgICBwbGF5ZXJJY29uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxufSlcclxudmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBwbGF5ZXIoKVxyXG4gICAgcGxheWVySWNvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcbn0pXHJcbnBsYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBwbGF5ZXIoKVxyXG4gICAgcGxheWVySWNvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcbn0pXHJcbnN0b3AuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xyXG4gICAgc3RvcFZpZGVvKClcclxuICAgIFxyXG59KVxyXG52b2x1bWUuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKT0+e1xyXG4gICAgbGV0IHZvbCA9IHZvbHVtZS52YWx1ZVxyXG4gICAgdmlkZW8udm9sdW1lID0gdm9sIC8gMTAwXHJcbiAgICBjb25zb2xlLmxvZyh2b2wpOyBcclxuXHJcbn0pXHJcbnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ3RpbWV1cGRhdGUnLCAoKT0+e1xyXG4gICAgcHJvZ3Jlc3NVcGFkYXRlKClcclxuICBcclxuICAgIHBsYXllckljb24uc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG4gICAgXHJcbn0pXHJcbmJhY2t3YXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoKT0+e1xyXG4gICAgc3BlZWREb3duVmlkZW8oKVxyXG4gICAgcGxheWVySWNvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcbiAgIFxyXG59KVxyXG5mb3J3YXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoKT0+e1xyXG4gICAgc3BlZWRVcFZpZGVvKClcclxufSlcclxuXHJcbnByb2dyZXNzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoKT0+e1xyXG4gICAgdmlkZW9SZXdpbmQoKVxyXG59KVxyXG52b2x1bWVVcERvd24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xyXG4gICAgXHJcbiAgICB2b2x1bWVVcCgpIFxyXG59KVxyXG5mdWxsU2NyZWVuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcclxuICAgIHZpZGVvLnJlcXVlc3RGdWxsc2NyZWVuKClcclxufSlcclxubGV0IHNwZWVkID0gMTtcclxuZnVuY3Rpb24gcHJvZ3Jlc3NVcGFkYXRlKCkge1xyXG4gICAgbGV0IGQgPSB2aWRlby5kdXJhdGlvblxyXG4gICAgbGV0IGM9IHZpZGVvLmN1cnJlbnRUaW1lXHJcbiAgICBwcm9ncmVzcy52YWx1ZSA9IDEwMCAqIGMgLyBkXHJcbiAgICAvLyBjb25zb2xlLmxvZyhwcm9ncmVzcy52YWx1ZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBsYXllcigpe1xyXG4gICAgaWYoIHBsYXkuY2xhc3NMaXN0LmNvbnRhaW5zKCdmYS1wbGF5JykgKXtcclxuICAgICAgICBwbGF5LmNsYXNzTGlzdC5hZGQoJ2ZhLXBhdXNlJyk7XHJcbiAgICAgICAgcGxheS5jbGFzc0xpc3QucmVtb3ZlKCdmYS1wbGF5Jyk7XHJcbiAgICAgICAgcGxheVZpZGVvKCk7ICAgIFxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcGxheS5jbGFzc0xpc3QuYWRkKCdmYS1wbGF5Jyk7XHJcbiAgICAgICAgcGxheS5jbGFzc0xpc3QucmVtb3ZlKCdmYS1wYXVzZScpO1xyXG4gICAgICAgIHBhdXNlVmlkZW8oKTtcclxuICAgIH0gIFxyXG59XHJcbmxldCBzYXZlID0gdm9sdW1lLnZhbHVlXHJcbmxldCBzYXZlVm9sID0gdmlkZW8udm9sdW1lXHJcbmZ1bmN0aW9uIHZvbHVtZVVwKCl7XHJcbiAgICBsZXQgdm9sID0gdm9sdW1lLnZhbHVlXHJcbiAgICAgdmlkZW8udm9sdW1lID0gdm9sIC8xMDBcclxuICAgIGlmKCB2b2x1bWVVcERvd24uY2xhc3NMaXN0LmNvbnRhaW5zKCdmYS12b2x1bWUtdXAnKSkge1xyXG4gICAgICAgIHZvbHVtZVVwRG93bi5jbGFzc0xpc3QuYWRkKCdmYS12b2x1bWUtbXV0ZScpO1xyXG4gICAgICAgIHZvbHVtZVVwRG93bi5jbGFzc0xpc3QucmVtb3ZlKCdmYS12b2x1bWUtdXAnKTtcclxuICAgICAgICBcclxuICAgICAgICB2aWRlby52b2x1bWUgPSAwICAgIFxyXG4gICAgICAgIHZvbHVtZS52YWx1ZSA9IDBcclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZvbHVtZVVwRG93bi5jbGFzc0xpc3QuYWRkKCdmYS12b2x1bWUtdXAnKTtcclxuICAgICAgICB2b2x1bWVVcERvd24uY2xhc3NMaXN0LnJlbW92ZSgnZmEtdm9sdW1lLW11dGUnKTtcclxuICAgICAgICB2b2x1bWUudmFsdWUgPSBzYXZlXHJcbiAgICAgICAgdmlkZW8udm9sdW1lID0gc2F2ZVZvbFxyXG4gICAgfSBcclxufVxyXG5mdW5jdGlvbiBwbGF5VmlkZW8oKSB7XHJcbiAgICB2aWRlby5wbGF5KCk7XHJcbn1cclxuZnVuY3Rpb24gcGF1c2VWaWRlbygpIHtcclxuICAgIHZpZGVvLnBhdXNlKClcclxufVxyXG5mdW5jdGlvbiBzdG9wVmlkZW8oKSB7XHJcbiAgICB2aWRlby5wYXVzZSgpXHJcbiAgICB2aWRlby5jdXJyZW50VGltZSA9IDBcclxuICAgIHBsYXkuY2xhc3NMaXN0LmFkZCgnZmEtcGxheScpO1xyXG4gICAgcGxheS5jbGFzc0xpc3QucmVtb3ZlKCdmYS1wYXVzZScpO1xyXG4gICAgcGxheWVySWNvbi5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnXHJcbn1cclxuZnVuY3Rpb24gc3BlZWREb3duVmlkZW8oKSB7XHJcbiAgICB2aWRlby5wbGF5KClcclxuICAgIHZpZGVvLnBsYXliYWNrUmF0ZT1zcGVlZFxyXG4gICAgc3BlZWQgLT0gMC41IFxyXG4gICAgaWYgKHNwZWVkIDw9IDAuNSkge1xyXG4gICAgICAgIHNwZWVkID0gMC41XHJcbiAgICB9XHJcbiAgICBwbGF5LmNsYXNzTGlzdC5yZW1vdmUoJ2ZhLXBsYXknKTtcclxuICAgIHBsYXkuY2xhc3NMaXN0LmFkZCgnZmEtcGF1c2UnKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKHZpZGVvLnBsYXliYWNrUmF0ZSk7XHJcbn1cclxuZnVuY3Rpb24gc3BlZWRVcFZpZGVvKCkge1xyXG4gICAgdmlkZW8ucGxheSgpXHJcbiAgICB2aWRlby5wbGF5YmFja1JhdGUgPSBzcGVlZDtcclxuICAgIHNwZWVkICs9IDAuNTtcclxuICAgIGlmKHNwZWVkID49IDMpe1xyXG4gICAgICAgIHNwZWVkID0gM1xyXG4gICAgfVxyXG4gICAgcGxheS5jbGFzc0xpc3QucmVtb3ZlKCdmYS1wbGF5Jyk7XHJcbiAgICBwbGF5LmNsYXNzTGlzdC5hZGQoJ2ZhLXBhdXNlJyk7XHJcbiAgICAvLyBjb25zb2xlLmxvZyh2aWRlby5wbGF5YmFja1JhdGUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB2aWRlb1Jld2luZCgpIHtcclxuICAgIGxldCB3aWR0aCA9IHByb2dyZXNzLm9mZnNldFdpZHRoO1xyXG4gICAgbGV0IG9mZnNldCA9IGV2ZW50Lm9mZnNldFg7XHJcbiAgICBwcm9ncmVzcy52YWx1ZSA9IDEwMCAqIG9mZnNldCAvIHdpZHRoXHJcbiAgICB2aWRlby5jdXJyZW50VGltZSA9IHZpZGVvLmR1cmF0aW9uICogKG9mZnNldC93aWR0aClcclxuICAgIC8vIGNvbnNvbGUubG9nKG9mZnNldCk7ICAgIFxyXG4gICAgY29uc29sZS5sb2cod2lkdGgpOyAgICBcclxufVxyXG52aWRlby5hZGRFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsICgpPT57XHJcbiAgICB2aWRlb19fdGltZSgpXHJcbiAgICBcclxufSlcclxudmlkZW8uYWRkRXZlbnRMaXN0ZW5lcigndGltZXVwZGF0ZScsICgpPT57XHJcbiAgICB2aWRlb19fdGltZSgpXHJcbiAgICBcclxufSlcclxuXHJcbmZ1bmN0aW9uIGZpeGVkKG51bWJlcikge1xyXG4gICAgcmV0dXJuIG51bWJlciA8IDEwID8gYDAke251bWJlcn1gIDogYCR7bnVtYmVyfWAgXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHZpZGVvX190aW1lKCkge1xyXG4gICAgY29uc3QgZHVyYXRpb24gPSBOdW1iZXIodmlkZW8uZHVyYXRpb24udG9GaXhlZCgpKVxyXG4gICAgY29uc3QgY3VycmVudCA9IE51bWJlcih2aWRlby5jdXJyZW50VGltZS50b0ZpeGVkKCkpXHJcbiAgICAvLyBjb25zb2xlLmxvZyhkdXJhdGlvbik7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhjdXJyZW50KTtcclxuICAgIGxldCB0aW1lciA9IGAke2ZpeGVkKE1hdGguZmxvb3IoY3VycmVudCAvIDYwKSl9OiR7Zml4ZWQoTWF0aC5mbG9vcihjdXJyZW50ICUgNjApKX1gXHJcbiAgICBsZXQgZHVyID0gYCR7TWF0aC5mbG9vcihkdXJhdGlvbiAvIDYwKX06JHtNYXRoLmZsb29yKGR1cmF0aW9uICUgNjApfWBcclxuICAgIHRpbWUuaW5uZXJIVE1MID0gYCR7dGltZXJ9IC8gJHtkdXJ9YFxyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKHRpbWVyKTsgICAgXHJcbn1cclxuXHJcbiIsImxldCB2aWRlbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJ2aWRlb1wiKTtcclxubGV0IHBsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZhLXBsYXlcIik7XHJcbmxldCBzdG9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZhLXN0b3AnKVxyXG5sZXQgcGxheWVySWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy52aWRlb19fcGxheWVyLWljb24nKVxyXG5sZXQgZm9yd2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mYS1mb3J3YXJkJylcclxubGV0IGJhY2t3YXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZhLWJhY2t3YXJkJylcclxubGV0IHZvbHVtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy52b2x1bWUnKVxyXG5sZXQgcHJvZ3Jlc3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZ3Jlc3MnKVxyXG5sZXQgdm9sdW1lVXBEb3duID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZhLXZvbHVtZS11cCcpXHJcbmxldCB0aW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnZpZGVvX190aW1lJylcclxubGV0IGZ1bGxTY3JlZW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZnVsbFNjcmVlbicpXHJcblxyXG5cclxucGxheWVySWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XHJcbiAgICB2aWRlb19fdGltZSgpXHJcbiAgICBwbGF5ZXIoKVxyXG4gICAgcGxheWVySWNvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcbn0pXHJcbnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgcGxheWVyKClcclxuICAgIHBsYXllckljb24uc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG59KVxyXG5wbGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgcGxheWVyKClcclxuICAgIHBsYXllckljb24uc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG59KVxyXG5zdG9wLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcclxuICAgIHN0b3BWaWRlbygpXHJcbiAgICBcclxufSlcclxudm9sdW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCk9PntcclxuICAgIGxldCB2b2wgPSB2b2x1bWUudmFsdWVcclxuICAgIHZpZGVvLnZvbHVtZSA9IHZvbCAvIDEwMFxyXG4gICAgY29uc29sZS5sb2codm9sKTsgXHJcblxyXG59KVxyXG52aWRlby5hZGRFdmVudExpc3RlbmVyKCd0aW1ldXBkYXRlJywgKCk9PntcclxuICAgIHByb2dyZXNzVXBhZGF0ZSgpXHJcbiAgXHJcbiAgICBwbGF5ZXJJY29uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxuICAgIFxyXG59KVxyXG5iYWNrd2FyZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsKCk9PntcclxuICAgIHNwZWVkRG93blZpZGVvKClcclxuICAgIHBsYXllckljb24uc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG4gICBcclxufSlcclxuZm9yd2FyZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsKCk9PntcclxuICAgIHNwZWVkVXBWaWRlbygpXHJcbn0pXHJcblxyXG5wcm9ncmVzcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsKCk9PntcclxuICAgIHZpZGVvUmV3aW5kKClcclxufSlcclxudm9sdW1lVXBEb3duLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcclxuICAgIFxyXG4gICAgdm9sdW1lVXAoKSBcclxufSlcclxuZnVsbFNjcmVlbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XHJcbiAgICB2aWRlby5yZXF1ZXN0RnVsbHNjcmVlbigpXHJcbn0pXHJcbmxldCBzcGVlZCA9IDE7XHJcbmZ1bmN0aW9uIHByb2dyZXNzVXBhZGF0ZSgpIHtcclxuICAgIGxldCBkID0gdmlkZW8uZHVyYXRpb25cclxuICAgIGxldCBjPSB2aWRlby5jdXJyZW50VGltZVxyXG4gICAgcHJvZ3Jlc3MudmFsdWUgPSAxMDAgKiBjIC8gZFxyXG4gICAgLy8gY29uc29sZS5sb2cocHJvZ3Jlc3MudmFsdWUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwbGF5ZXIoKXtcclxuICAgIGlmKCBwbGF5LmNsYXNzTGlzdC5jb250YWlucygnZmEtcGxheScpICl7XHJcbiAgICAgICAgcGxheS5jbGFzc0xpc3QuYWRkKCdmYS1wYXVzZScpO1xyXG4gICAgICAgIHBsYXkuY2xhc3NMaXN0LnJlbW92ZSgnZmEtcGxheScpO1xyXG4gICAgICAgIHBsYXlWaWRlbygpOyAgICBcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHBsYXkuY2xhc3NMaXN0LmFkZCgnZmEtcGxheScpO1xyXG4gICAgICAgIHBsYXkuY2xhc3NMaXN0LnJlbW92ZSgnZmEtcGF1c2UnKTtcclxuICAgICAgICBwYXVzZVZpZGVvKCk7XHJcbiAgICB9ICBcclxufVxyXG5sZXQgc2F2ZSA9IHZvbHVtZS52YWx1ZVxyXG5sZXQgc2F2ZVZvbCA9IHZpZGVvLnZvbHVtZVxyXG5mdW5jdGlvbiB2b2x1bWVVcCgpe1xyXG4gICAgbGV0IHZvbCA9IHZvbHVtZS52YWx1ZVxyXG4gICAgIHZpZGVvLnZvbHVtZSA9IHZvbCAvMTAwXHJcbiAgICBpZiggdm9sdW1lVXBEb3duLmNsYXNzTGlzdC5jb250YWlucygnZmEtdm9sdW1lLXVwJykpIHtcclxuICAgICAgICB2b2x1bWVVcERvd24uY2xhc3NMaXN0LmFkZCgnZmEtdm9sdW1lLW11dGUnKTtcclxuICAgICAgICB2b2x1bWVVcERvd24uY2xhc3NMaXN0LnJlbW92ZSgnZmEtdm9sdW1lLXVwJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmlkZW8udm9sdW1lID0gMCAgICBcclxuICAgICAgICB2b2x1bWUudmFsdWUgPSAwXHJcbiAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2b2x1bWVVcERvd24uY2xhc3NMaXN0LmFkZCgnZmEtdm9sdW1lLXVwJyk7XHJcbiAgICAgICAgdm9sdW1lVXBEb3duLmNsYXNzTGlzdC5yZW1vdmUoJ2ZhLXZvbHVtZS1tdXRlJyk7XHJcbiAgICAgICAgdm9sdW1lLnZhbHVlID0gc2F2ZVxyXG4gICAgICAgIHZpZGVvLnZvbHVtZSA9IHNhdmVWb2xcclxuICAgIH0gXHJcbn1cclxuZnVuY3Rpb24gcGxheVZpZGVvKCkge1xyXG4gICAgdmlkZW8ucGxheSgpO1xyXG59XHJcbmZ1bmN0aW9uIHBhdXNlVmlkZW8oKSB7XHJcbiAgICB2aWRlby5wYXVzZSgpXHJcbn1cclxuZnVuY3Rpb24gc3RvcFZpZGVvKCkge1xyXG4gICAgdmlkZW8ucGF1c2UoKVxyXG4gICAgdmlkZW8uY3VycmVudFRpbWUgPSAwXHJcbiAgICBwbGF5LmNsYXNzTGlzdC5hZGQoJ2ZhLXBsYXknKTtcclxuICAgIHBsYXkuY2xhc3NMaXN0LnJlbW92ZSgnZmEtcGF1c2UnKTtcclxuICAgIHBsYXllckljb24uc3R5bGUuZGlzcGxheSA9ICdmbGV4J1xyXG59XHJcbmZ1bmN0aW9uIHNwZWVkRG93blZpZGVvKCkge1xyXG4gICAgdmlkZW8ucGxheSgpXHJcbiAgICB2aWRlby5wbGF5YmFja1JhdGU9c3BlZWRcclxuICAgIHNwZWVkIC09IDAuNSBcclxuICAgIGlmIChzcGVlZCA8PSAwLjUpIHtcclxuICAgICAgICBzcGVlZCA9IDAuNVxyXG4gICAgfVxyXG4gICAgcGxheS5jbGFzc0xpc3QucmVtb3ZlKCdmYS1wbGF5Jyk7XHJcbiAgICBwbGF5LmNsYXNzTGlzdC5hZGQoJ2ZhLXBhdXNlJyk7XHJcbiAgICAvLyBjb25zb2xlLmxvZyh2aWRlby5wbGF5YmFja1JhdGUpO1xyXG59XHJcbmZ1bmN0aW9uIHNwZWVkVXBWaWRlbygpIHtcclxuICAgIHZpZGVvLnBsYXkoKVxyXG4gICAgdmlkZW8ucGxheWJhY2tSYXRlID0gc3BlZWQ7XHJcbiAgICBzcGVlZCArPSAwLjU7XHJcbiAgICBpZihzcGVlZCA+PSAzKXtcclxuICAgICAgICBzcGVlZCA9IDNcclxuICAgIH1cclxuICAgIHBsYXkuY2xhc3NMaXN0LnJlbW92ZSgnZmEtcGxheScpO1xyXG4gICAgcGxheS5jbGFzc0xpc3QuYWRkKCdmYS1wYXVzZScpO1xyXG4gICAgLy8gY29uc29sZS5sb2codmlkZW8ucGxheWJhY2tSYXRlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gdmlkZW9SZXdpbmQoKSB7XHJcbiAgICBsZXQgd2lkdGggPSBwcm9ncmVzcy5vZmZzZXRXaWR0aDtcclxuICAgIGxldCBvZmZzZXQgPSBldmVudC5vZmZzZXRYO1xyXG4gICAgcHJvZ3Jlc3MudmFsdWUgPSAxMDAgKiBvZmZzZXQgLyB3aWR0aFxyXG4gICAgdmlkZW8uY3VycmVudFRpbWUgPSB2aWRlby5kdXJhdGlvbiAqIChvZmZzZXQvd2lkdGgpXHJcbiAgICAvLyBjb25zb2xlLmxvZyhvZmZzZXQpOyAgICBcclxuICAgIGNvbnNvbGUubG9nKHdpZHRoKTsgICAgXHJcbn1cclxudmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkbWV0YWRhdGEnLCAoKT0+e1xyXG4gICAgdmlkZW9fX3RpbWUoKVxyXG4gICAgXHJcbn0pXHJcbnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ3RpbWV1cGRhdGUnLCAoKT0+e1xyXG4gICAgdmlkZW9fX3RpbWUoKVxyXG4gICAgXHJcbn0pXHJcblxyXG5mdW5jdGlvbiBmaXhlZChudW1iZXIpIHtcclxuICAgIHJldHVybiBudW1iZXIgPCAxMCA/IGAwJHtudW1iZXJ9YCA6IGAke251bWJlcn1gIFxyXG59XHJcblxyXG5mdW5jdGlvbiB2aWRlb19fdGltZSgpIHtcclxuICAgIGNvbnN0IGR1cmF0aW9uID0gTnVtYmVyKHZpZGVvLmR1cmF0aW9uLnRvRml4ZWQoKSlcclxuICAgIGNvbnN0IGN1cnJlbnQgPSBOdW1iZXIodmlkZW8uY3VycmVudFRpbWUudG9GaXhlZCgpKVxyXG4gICAgLy8gY29uc29sZS5sb2coZHVyYXRpb24pO1xyXG4gICAgLy8gY29uc29sZS5sb2coY3VycmVudCk7XHJcbiAgICBsZXQgdGltZXIgPSBgJHtmaXhlZChNYXRoLmZsb29yKGN1cnJlbnQgLyA2MCkpfToke2ZpeGVkKE1hdGguZmxvb3IoY3VycmVudCAlIDYwKSl9YFxyXG4gICAgbGV0IGR1ciA9IGAke01hdGguZmxvb3IoZHVyYXRpb24gLyA2MCl9OiR7TWF0aC5mbG9vcihkdXJhdGlvbiAlIDYwKX1gXHJcbiAgICB0aW1lLmlubmVySFRNTCA9IGAke3RpbWVyfSAvICR7ZHVyfWBcclxuXHJcbiAgICAvLyBjb25zb2xlLmxvZyh0aW1lcik7ICAgIFxyXG59XHJcblxyXG4iXX0=
